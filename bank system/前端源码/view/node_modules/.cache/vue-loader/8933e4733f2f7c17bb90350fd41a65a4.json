{"remainingRequest":"/Users/caspian/Desktop/银行业务处理模拟平台/view/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/caspian/Desktop/银行业务处理模拟平台/view/src/components/Transaction.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/caspian/Desktop/银行业务处理模拟平台/view/src/components/Transaction.vue","mtime":1603001747807},{"path":"/Users/caspian/Desktop/银行业务处理模拟平台/view/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/caspian/Desktop/银行业务处理模拟平台/view/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/caspian/Desktop/银行业务处理模拟平台/view/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/caspian/Desktop/银行业务处理模拟平台/view/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB0cmFuc2RpYWxvZyBmcm9tICcuL1RyYW5zRGlhbG9nJzsKaW1wb3J0IHRyYW5zZGlhbG9nbG9nIGZyb20gJy4vVHJhbnNEaWFsb2dMb2cnOwpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAndHJhbnNhY3Rpb24nLAogICAgZGF0YTogZnVuY3Rpb24oKXsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICByb3VuZDogMCwKICAgICAgICAgICAgbWF4Um91bmQ6IDEwLAogICAgICAgICAgICBidXR0b250aXRsZTogJ1N0YXJ0JywKICAgICAgICAgICAgYnV0dG9udHlwZTogJ3dhcm5pbmcnLAogICAgICAgICAgICBpbnByb2Nlc3M6IGZhbHNlLAogICAgICAgICAgICB0aXRsZXNpemU6IDE4LAogICAgICAgICAgICBidXR0b25zaXplOiAzLAogICAgICAgICAgICByb3VuZHNpemU6IDMsCiAgICAgICAgICAgIHJlY29yZHM6IFtdLAogICAgICAgICAgICByZWNvcmRzX2RlcG9zaXRfY3VycmVudDogW10sCiAgICAgICAgICAgIHJlY29yZHNfd2l0aGRyYXdhbF9jdXJyZW50OiBbXSwKICAgICAgICAgICAgcmVjb3Jkc19kZXBvc2l0X3NhdmluZ3M6W10sCiAgICAgICAgICAgIHJlY29yZHNfd2l0aGRyYXdhbF9zYXZpbmdzOltdLAogICAgICAgICAgICByZWNvcmRzX3BheV9tb25pZXM6IFtdCiAgICAgICAgfQogICAgfSwKICAgIGNvbXBvbmVudHM6e3RyYW5zZGlhbG9nLHRyYW5zZGlhbG9nbG9nfSwKICAgIG1vdW50ZWQoKXsKICAgICAgICB0aGlzLiRodHRwLmdldCgiL2FwaS9wcm9jZXNzL3JlY29yZCIpLnRoZW4oZnVuY3Rpb24ocmVzKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJzdWNjZXNzIik7CiAgICAgICAgICAgIHRoaXMucm91bmQgPSByZXMuYm9keVtyZXMuYm9keS5sZW5ndGgtMV0ucm91bmQ7CiAgICAgICAgICAgIHRoaXMucmVjb3JkcyA9IHJlcy5ib2R5OwogICAgICAgICAgICB0aGlzLnJlY29yZHNfZGVwb3NpdF9jdXJyZW50ID0gcmVzLmJvZHkucmVkdWNlKCh0b3RhbCwgY3VycmVudCkgPT4gewogICAgICAgICAgICAgICAgY3VycmVudC50eXBlID09PSAiZGVwb3NpdEN1cnJlbnRBY2NvdW50IiAmJiB0b3RhbC5wdXNoKGN1cnJlbnQpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRvdGFsOwogICAgICAgICAgICB9LCBbXSk7CiAgICAgICAgICAgIHRoaXMucmVjb3Jkc193aXRoZHJhd2FsX2N1cnJlbnQgPSByZXMuYm9keS5yZWR1Y2UoKHRvdGFsLCBjdXJyZW50KSA9PiB7CiAgICAgICAgICAgICAgICBjdXJyZW50LnR5cGUgPT09ICJ3aXRoZHJhd2FsQ3VycmVudEFjY291bnQiICYmIHRvdGFsLnB1c2goY3VycmVudCk7CiAgICAgICAgICAgICAgICByZXR1cm4gdG90YWw7CiAgICAgICAgICAgIH0sIFtdKTsKICAgICAgICAgICAgdGhpcy5yZWNvcmRzX2RlcG9zaXRfc2F2aW5ncyA9IHJlcy5ib2R5LnJlZHVjZSgodG90YWwsIGN1cnJlbnQpID0+IHsKICAgICAgICAgICAgICAgIGN1cnJlbnQudHlwZSA9PT0gImRlcG9zaXRTYXZpbmdzQWNjb3VudCIgJiYgdG90YWwucHVzaChjdXJyZW50KTsKICAgICAgICAgICAgICAgIHJldHVybiB0b3RhbDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICB0aGlzLnJlY29yZHNfd2l0aGRyYXdhbF9zYXZpbmdzID0gcmVzLmJvZHkucmVkdWNlKCh0b3RhbCwgY3VycmVudCkgPT4gewogICAgICAgICAgICAgICAgY3VycmVudC50eXBlID09PSAid2l0aGRyYXdTYXZpbmdzQWNjb3VudCIgJiYgdG90YWwucHVzaChjdXJyZW50KTsKICAgICAgICAgICAgICAgIHJldHVybiB0b3RhbDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICB0aGlzLnJlY29yZHNfcGF5X21vbmllcyA9IHJlcy5ib2R5LnJlZHVjZSgodG90YWwsIGN1cnJlbnQpID0+IHsKICAgICAgICAgICAgICAgIGN1cnJlbnQudHlwZSA9PT0gInBheU1vbmllcyIgJiYgdG90YWwucHVzaChjdXJyZW50KTsKICAgICAgICAgICAgICAgIHJldHVybiB0b3RhbDsKICAgICAgICAgICAgfSwgW10pOwogICAgICAgIH0sZnVuY3Rpb24ocmVzKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnZmFpbC4uLicsIHJlcyk7CiAgICAgICAgfSk7CiAgICB9LAogICAgbWV0aG9kczp7CiAgICAgICAgdXBkYXRlX3MoKXsKICAgICAgICAgICAgdGhpcy4kaHR0cC5nZXQoIi9hcGkvcHJvY2Vzcy9yZWNvcmQiKS50aGVuKGZ1bmN0aW9uKHJlcykgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coInVwZGF0ZSBzdWNjZXNzIik7CiAgICAgICAgICAgICAgICB0aGlzLnJvdW5kID0gcmVzLmJvZHlbcmVzLmJvZHkubGVuZ3RoLTFdLnJvdW5kOwogICAgICAgICAgICAgICAgdGhpcy5yZWNvcmRzID0gcmVzLmJvZHk7CiAgICAgICAgICAgICAgICB0aGlzLnJlY29yZHNfZGVwb3NpdF9jdXJyZW50ID0gcmVzLmJvZHkucmVkdWNlKCh0b3RhbCwgY3VycmVudCkgPT4gewogICAgICAgICAgICAgICAgY3VycmVudC50eXBlID09PSAiZGVwb3NpdEN1cnJlbnRBY2NvdW50IiAmJiB0b3RhbC5wdXNoKGN1cnJlbnQpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRvdGFsOwogICAgICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICAgICAgdGhpcy5yZWNvcmRzX3dpdGhkcmF3YWxfY3VycmVudCA9IHJlcy5ib2R5LnJlZHVjZSgodG90YWwsIGN1cnJlbnQpID0+IHsKICAgICAgICAgICAgICAgIGN1cnJlbnQudHlwZSA9PT0gIndpdGhkcmF3YWxDdXJyZW50QWNjb3VudCIgJiYgdG90YWwucHVzaChjdXJyZW50KTsKICAgICAgICAgICAgICAgIHJldHVybiB0b3RhbDsKICAgICAgICAgICAgICAgIH0sIFtdKTsKICAgICAgICAgICAgICAgIHRoaXMucmVjb3Jkc19kZXBvc2l0X3NhdmluZ3MgPSByZXMuYm9keS5yZWR1Y2UoKHRvdGFsLCBjdXJyZW50KSA9PiB7CiAgICAgICAgICAgICAgICBjdXJyZW50LnR5cGUgPT09ICJkZXBvc2l0U2F2aW5nc0FjY291bnQiICYmIHRvdGFsLnB1c2goY3VycmVudCk7CiAgICAgICAgICAgICAgICByZXR1cm4gdG90YWw7CiAgICAgICAgICAgICAgICB9LCBbXSk7ICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdGhpcy5yZWNvcmRzX3dpdGhkcmF3YWxfc2F2aW5ncyA9IHJlcy5ib2R5LnJlZHVjZSgodG90YWwsIGN1cnJlbnQpID0+IHsKICAgICAgICAgICAgICAgIGN1cnJlbnQudHlwZSA9PT0gIndpdGhkcmF3U2F2aW5nc0FjY291bnQiICYmIHRvdGFsLnB1c2goY3VycmVudCk7CiAgICAgICAgICAgICAgICByZXR1cm4gdG90YWw7CiAgICAgICAgICAgICAgICB9LCBbXSk7CiAgICAgICAgICAgICAgICB0aGlzLnJlY29yZHNfcGF5X21vbmllcyA9IHJlcy5ib2R5LnJlZHVjZSgodG90YWwsIGN1cnJlbnQpID0+IHsKICAgICAgICAgICAgICAgIGN1cnJlbnQudHlwZSA9PT0gInBheU1vbmllcyIgJiYgdG90YWwucHVzaChjdXJyZW50KTsKICAgICAgICAgICAgICAgIHJldHVybiB0b3RhbDsKICAgICAgICAgICAgICAgIH0sIFtdKTsKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIHVwZGF0ZSgpewogICAgICAgICAgICB0aGlzLiRodHRwLmdldCgiL2FwaS9wcm9jZXNzL3JlY29yZCIpLnRoZW4oZnVuY3Rpb24ocmVzKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygidXBkYXRlIHN1Y2Nlc3MiKTsKICAgICAgICAgICAgICAgIHRoaXMucm91bmQgPSByZXMuYm9keVtyZXMuYm9keS5sZW5ndGgtMV0ucm91bmQ7CiAgICAgICAgICAgICAgICB0aGlzLnJlY29yZHMgPSByZXMuYm9keTsKICAgICAgICAgICAgICAgIHRoaXMucmVjb3Jkc19kZXBvc2l0X2N1cnJlbnQgPSByZXMuYm9keS5yZWR1Y2UoKHRvdGFsLCBjdXJyZW50KSA9PiB7CiAgICAgICAgICAgICAgICBjdXJyZW50LnR5cGUgPT09ICJkZXBvc2l0Q3VycmVudEFjY291bnQiICYmIHRvdGFsLnB1c2goY3VycmVudCk7CiAgICAgICAgICAgICAgICByZXR1cm4gdG90YWw7CiAgICAgICAgICAgICAgICB9LCBbXSk7CiAgICAgICAgICAgICAgICB0aGlzLnJlY29yZHNfd2l0aGRyYXdhbF9jdXJyZW50ID0gcmVzLmJvZHkucmVkdWNlKCh0b3RhbCwgY3VycmVudCkgPT4gewogICAgICAgICAgICAgICAgY3VycmVudC50eXBlID09PSAid2l0aGRyYXdhbEN1cnJlbnRBY2NvdW50IiAmJiB0b3RhbC5wdXNoKGN1cnJlbnQpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRvdGFsOwogICAgICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICAgICAgdGhpcy5yZWNvcmRzX2RlcG9zaXRfc2F2aW5ncyA9IHJlcy5ib2R5LnJlZHVjZSgodG90YWwsIGN1cnJlbnQpID0+IHsKICAgICAgICAgICAgICAgIGN1cnJlbnQudHlwZSA9PT0gImRlcG9zaXRTYXZpbmdzQWNjb3VudCIgJiYgdG90YWwucHVzaChjdXJyZW50KTsKICAgICAgICAgICAgICAgIHJldHVybiB0b3RhbDsKICAgICAgICAgICAgICAgIH0sIFtdKTsgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB0aGlzLnJlY29yZHNfd2l0aGRyYXdhbF9zYXZpbmdzID0gcmVzLmJvZHkucmVkdWNlKCh0b3RhbCwgY3VycmVudCkgPT4gewogICAgICAgICAgICAgICAgY3VycmVudC50eXBlID09PSAid2l0aGRyYXdTYXZpbmdzQWNjb3VudCIgJiYgdG90YWwucHVzaChjdXJyZW50KTsKICAgICAgICAgICAgICAgIHJldHVybiB0b3RhbDsKICAgICAgICAgICAgICAgIH0sIFtdKTsKICAgICAgICAgICAgICAgIHRoaXMucmVjb3Jkc19wYXlfbW9uaWVzID0gcmVzLmJvZHkucmVkdWNlKCh0b3RhbCwgY3VycmVudCkgPT4gewogICAgICAgICAgICAgICAgY3VycmVudC50eXBlID09PSAicGF5TW9uaWVzIiAmJiB0b3RhbC5wdXNoKGN1cnJlbnQpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRvdGFsOwogICAgICAgICAgICAgICAgfSwgW10pOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coInJvdW5kICIsIHRoaXMucm91bmQpCiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZV9zKCk7CiAgICAgICAgICAgICAgICBpZigodGhpcy5yb3VuZCA+PSAxMCkgJiYgKCh0aGlzLnJvdW5kICUgMTApPT09MCkpewogICAgICAgICAgICAgICAgICAgIHRoaXMuYnV0dG9udGl0bGUgPSAnUGhyYXNlJzsKICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1dHRvbnR5cGUgPSAnc3VjY2Vzcyc7CiAgICAgICAgICAgICAgICAgICAgdGhpcy50aXRsZXNpemUgPSAxODsKICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1dHRvbnNpemUgPSAzOwogICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wcm9jZXNzID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZih0aGlzLnJvdW5kIDwgdGhpcy5tYXhSb3VuZCl7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+ewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZV9zKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnQoKTsKICAgICAgICAgICAgICAgICAgICB9LCA1MDAwKTsKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIHRoaXMubWF4Um91bmQgPSB0aGlzLm1heFJvdW5kICsgMTA7IAogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMubWF4Um91bmQpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sZnVuY3Rpb24ocmVzKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZmFpbC4uLicsIHJlcyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgcHJvY2VzcygpewogICAgICAgICAgICBjb25zb2xlLmxvZygicHJvY2VzcyBzdGFydCIpCiAgICAgICAgICAgIHRoaXMuJGh0dHAuZ2V0KCIvYXBpL3Byb2Nlc3Mvc3RhcnQiKS50aGVuKGZ1bmN0aW9uKHJlcykgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coInByb2Nlc3NpbmcuLi4iKTsKICAgICAgICAgICAgICAgIHZhciByID0gcmVzLmJvZHk7CiAgICAgICAgICAgICAgICBjb25zdCBsb2FkaW5nID0gdGhpcy4kbG9hZGluZyh7CiAgICAgICAgICAgICAgICAgICAgbG9jazogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICB0ZXh0OiByLnRyYW5zYWN0aW9uX3R5cGUgKyAiIGlzIGNob3Nlbn4iLAogICAgICAgICAgICAgICAgICAgIHNwaW5uZXI6ICdlbC1pY29uLWxvYWRpbmcnLAogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICdyZ2JhKDAsIDAsIDAsIDAuOCknLAogICAgICAgICAgICAgICAgfSk7Ci8qICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBsb2FkaW5nLmNsb3NlKCk7CiAgICAgICAgICAgICAgICB9LCAyMDAwKTsgKi8KICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGxvYWRpbmcuY2xvc2UoKTsKICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZTsKICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZV8yOwogICAgICAgICAgICAgICAgICAgIGlmIChyLnR5cGVfb2ZfY3VzdG9tZXIgIT09ICJwYXlNb25pZXMiKXsKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IHIubmFtZSArICIncyAiICsgci50eXBlX29mX2N1c3RvbWVyICsgIiAiICsgci5vdmVyYWxsICsgIi4wMCI7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAzNjAwLAogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IHIubmFtZV8xICsgIidzIEN1cnJlbnQgQWNjb3VudCAtIMKjIiArIHIub3ZlcmFsbCsgIi4wMCIKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV8yID0gci5uYW1lXzIgKyAiJ3MgQ3VycmVudCBBY2NvdW50ICsgwqMiICsgci5vdmVyYWxsICsgIi4wMCI7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwLAogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZV8yLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgCiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDIyMDApOwogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLy8g5pu05paw5pWw5o2uCiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTsKICAgICAgICAgICAgICAgIH0sIDI2MDApOwogICAgICAgICAgICAgICAgfSxmdW5jdGlvbihyZXMpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZmFpbC4uLicsIHJlcyk7CiAgICAgICAgICAgICAgICB9LCk7CiAgICAgICAgfSwKICAgICAgICBmbGFzaCgpewogICAgICAgICAgICBpZih0aGlzLmJ1dHRvbnRpdGxlID09PSAnU3RhcnQnKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIHRoaXMubWF4Um91bmQgPSB0aGlzLnJlY29yZHNbdGhpcy5yZWNvcmRzLmxlbmd0aC0xXS5yb3VuZCArIDEwOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2F0Y2goZXJyKXsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnbnVsbCcpOwogICAgICAgICAgICAgICAgICAgIHRoaXMubWF4Um91bmQgPSAxMDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRoaXMuYnV0dG9udGl0bGUgPSAnUHJvY2Vzc2luZyc7CiAgICAgICAgICAgICAgICB0aGlzLmlucHJvY2VzcyA9IHRydWU7CiAgICAgICAgICAgICAgICB0aGlzLmJ1dHRvbnR5cGUgPSAnaW5mbyc7CiAgICAgICAgICAgICAgICB0aGlzLnRpdGxlc2l6ZSA9IDE3OwogICAgICAgICAgICAgICAgdGhpcy5idXR0b25zaXplID0gNDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMubWF4Um91bmQpCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHN0YXJ0KCl7CiAgICAgICAgICAgIHRoaXMudXBkYXRlX3MoKTsKICAgICAgICAgICAgaWYodGhpcy5idXR0b250aXRsZSAhPT0gJ1BocmFzZScpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGNvbnN0IGxvYWRpbmcxID0gdGhpcy4kbG9hZGluZyh7CiAgICAgICAgICAgICAgICB0ZXh0OiAnVHJhbnNhY3Rpb24gaW4gcHJvZ3Jlc3MuLi4nLAogICAgICAgICAgICAgICAgc3Bpbm5lcjogJ2VsLWljb24tbG9hZGluZycsCiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAncmdiYSgwLCAwLCAwLCAwLjgpJywKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgbG9hZGluZzEuY2xvc2UoKTsKICAgICAgICAgICAgICAgIH0sIDE4MDApOwogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzKCk7CiAgICAgICAgICAgICAgICB9LCAyMDAwKTsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICB0aGlzLiRodHRwLmdldCgiL2FwaS9wcm9jZXNzL3BocmFzZSIpLnRoZW4oZnVuY3Rpb24ocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLnN0YXR1cyk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHRoaXMuYnV0dG9udGl0bGUgPSAnU3RhcnQnOwogICAgICAgICAgICAgICAgdGhpcy5idXR0b250eXBlID0gJ3dhcm5pbmcnOwogICAgICAgICAgICAgICAgY29uc3QgaCA9IHRoaXMuJGNyZWF0ZUVsZW1lbnQ7CiAgICAgICAgICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0JhbmsgcGhyYXNlIHN1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgIG9mZnNldDogMTA1LAogICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyNjAwLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGgoJ2knLCB7IHN0eWxlOiAnY29sb3I6IHRlYWwnfSwgJ0ludGVyZXN0IGhhcyBiZWVuIGNhbGN1bGF0ZWQgYW5kIGRpc3RyaWJ1dGVkIHRvIHVzZXIgYWNjb3VudHPvvZ4nKQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3VzZXJzJykKICAgICAgICAgICAgICAgIH0sIDI2MDApOwogICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICB9LAoKICAgICAgICAvKiBjaG9vc2UoKXsKICAgICAgICAgICAgY29uc3QgbG9hZGluZyA9IHRoaXMuJGxvYWRpbmcoewogICAgICAgICAgICAgICAgbG9jazogdHJ1ZSwKICAgICAgICAgICAgICAgIHRleHQ6ICdXaXRoZHJhd2FsIGZyb20gc2F2aW5ncyBhY2NvdW50IGlzIGNob3Nlbu+9nicsCiAgICAgICAgICAgICAgICBzcGlubmVyOiAnZWwtaWNvbi1sb2FkaW5nJywKICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICdyZ2JhKDAsIDAsIDAsIDAuOCknLAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICBsb2FkaW5nLmNsb3NlKCk7CiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3MoKTsKICAgICAgICAgICAgfSwgMjYwMCk7CiAgICAgICAgfSAqLwogICAgfQp9Cg=="},{"version":3,"sources":["Transaction.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Transaction.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"container\">\n        <el-row class=\"top\">\n            <el-col :span=\"titlesize\">\n            <div class=\"top-title\">Transaction System</div>\n            </el-col>\n            <el-col :span=\"buttonsize\" class=\"controll-button\">\n                <el-button :type=\"buttontype\" round  @click=\"flash();start()\" :disabled=\"inprocess\">{{buttontitle}}</el-button>\n            </el-col>\n            <el-col :span=\"roundsize\" class=\"controll-button\">\n                <div class=\"up\">Round</div>\n                <div class=\"down\">{{round}}</div>\n            </el-col>\n        </el-row>\n        <el-row class=\"content\">\n            <el-col :span=\"12\">\n                <transdialog type=\"Deposit into current account\" icon=\"el-icon-wallet\" class=\"dialog\" color=\"in-color\" :records=\"records_deposit_current\"></transdialog>\n            </el-col>\n            <el-col :span=\"12\">\n                <transdialog type=\"Withdrawal from current account\" icon=\"el-icon-bank-card\" class=\"dialog\" color=\"in-color\" :records=\"records_withdrawal_current\"></transdialog>\n            </el-col>\n        </el-row>\n        <el-row class=\"content\">\n            <el-col :span=\"12\">\n                <transdialog type=\"Deposit into savings account\" icon=\"el-icon-wallet\" class=\"dialog\" color=\"out-color\" :records=\"records_deposit_savings\"></transdialog>\n            </el-col>\n            <el-col :span=\"12\">\n                <transdialog type=\"Withdrawal from savings account\" icon=\"el-icon-bank-card\" class=\"dialog\" color=\"out-color\" :records=\"records_withdrawal_savings\"></transdialog>\n            </el-col>\n        </el-row>\n        <el-row class=\"content\">\n            <el-col :span=\"24\">\n                <transdialoglog type=\"Pay monies\" icon=\"el-icon-wallet\" class=\"dialog\" color=\"out-color\" :records=\"records_pay_monies\"></transdialoglog>\n            </el-col>\n        </el-row>\n        <!-- <el-row class=\"content\">\n            <el-col :span=\"24\">\n                <transdialog type=\"Pay monies\" icon=\"el-icon-wallet\" class=\"dialog\" color=\"\"></transdialog>\n            </el-col>\n        </el-row> -->\n        <!-- <el-col :span=\"12\">\n                <transdialog type=\"Create a standing order\" icon=\"el-icon-wallet\" class=\"dialog\" color=\"\"></transdialog>\n            </el-col> -->\n    </div>\n</template>\n\n<script>\nimport transdialog from './TransDialog';\nimport transdialoglog from './TransDialogLog';\nexport default {\n    name: 'transaction',\n    data: function(){\n        return {\n            round: 0,\n            maxRound: 10,\n            buttontitle: 'Start',\n            buttontype: 'warning',\n            inprocess: false,\n            titlesize: 18,\n            buttonsize: 3,\n            roundsize: 3,\n            records: [],\n            records_deposit_current: [],\n            records_withdrawal_current: [],\n            records_deposit_savings:[],\n            records_withdrawal_savings:[],\n            records_pay_monies: []\n        }\n    },\n    components:{transdialog,transdialoglog},\n    mounted(){\n        this.$http.get(\"/api/process/record\").then(function(res) {\n            console.log(\"success\");\n            this.round = res.body[res.body.length-1].round;\n            this.records = res.body;\n            this.records_deposit_current = res.body.reduce((total, current) => {\n                current.type === \"depositCurrentAccount\" && total.push(current);\n                return total;\n            }, []);\n            this.records_withdrawal_current = res.body.reduce((total, current) => {\n                current.type === \"withdrawalCurrentAccount\" && total.push(current);\n                return total;\n            }, []);\n            this.records_deposit_savings = res.body.reduce((total, current) => {\n                current.type === \"depositSavingsAccount\" && total.push(current);\n                return total;\n            }, []);\n            this.records_withdrawal_savings = res.body.reduce((total, current) => {\n                current.type === \"withdrawSavingsAccount\" && total.push(current);\n                return total;\n            }, []);\n            this.records_pay_monies = res.body.reduce((total, current) => {\n                current.type === \"payMonies\" && total.push(current);\n                return total;\n            }, []);\n        },function(res) {\n          console.log('fail...', res);\n        });\n    },\n    methods:{\n        update_s(){\n            this.$http.get(\"/api/process/record\").then(function(res) {\n                console.log(\"update success\");\n                this.round = res.body[res.body.length-1].round;\n                this.records = res.body;\n                this.records_deposit_current = res.body.reduce((total, current) => {\n                current.type === \"depositCurrentAccount\" && total.push(current);\n                return total;\n                }, []);\n                this.records_withdrawal_current = res.body.reduce((total, current) => {\n                current.type === \"withdrawalCurrentAccount\" && total.push(current);\n                return total;\n                }, []);\n                this.records_deposit_savings = res.body.reduce((total, current) => {\n                current.type === \"depositSavingsAccount\" && total.push(current);\n                return total;\n                }, []);             \n                this.records_withdrawal_savings = res.body.reduce((total, current) => {\n                current.type === \"withdrawSavingsAccount\" && total.push(current);\n                return total;\n                }, []);\n                this.records_pay_monies = res.body.reduce((total, current) => {\n                current.type === \"payMonies\" && total.push(current);\n                return total;\n                }, []);\n            })\n        },\n        update(){\n            this.$http.get(\"/api/process/record\").then(function(res) {\n                console.log(\"update success\");\n                this.round = res.body[res.body.length-1].round;\n                this.records = res.body;\n                this.records_deposit_current = res.body.reduce((total, current) => {\n                current.type === \"depositCurrentAccount\" && total.push(current);\n                return total;\n                }, []);\n                this.records_withdrawal_current = res.body.reduce((total, current) => {\n                current.type === \"withdrawalCurrentAccount\" && total.push(current);\n                return total;\n                }, []);\n                this.records_deposit_savings = res.body.reduce((total, current) => {\n                current.type === \"depositSavingsAccount\" && total.push(current);\n                return total;\n                }, []);             \n                this.records_withdrawal_savings = res.body.reduce((total, current) => {\n                current.type === \"withdrawSavingsAccount\" && total.push(current);\n                return total;\n                }, []);\n                this.records_pay_monies = res.body.reduce((total, current) => {\n                current.type === \"payMonies\" && total.push(current);\n                return total;\n                }, []);\n                console.log(\"round \", this.round)\n                this.update_s();\n                if((this.round >= 10) && ((this.round % 10)===0)){\n                    this.buttontitle = 'Phrase';\n                    this.buttontype = 'success';\n                    this.titlesize = 18;\n                    this.buttonsize = 3;\n                    this.inprocess = false;\n                }\n                if(this.round < this.maxRound){\n                    setTimeout(()=>{\n                        this.update_s();\n                        this.start();\n                    }, 5000);\n                }else{\n                    this.maxRound = this.maxRound + 10; \n                    console.log(this.maxRound)\n                }\n            },function(res) {\n                console.log('fail...', res);\n            });\n        },\n        process(){\n            console.log(\"process start\")\n            this.$http.get(\"/api/process/start\").then(function(res) {\n                console.log(\"processing...\");\n                var r = res.body;\n                const loading = this.$loading({\n                    lock: true,\n                    text: r.transaction_type + \" is chosen~\",\n                    spinner: 'el-icon-loading',\n                    background: 'rgba(0, 0, 0, 0.8)',\n                });\n/*                 setTimeout(() => {\n                    loading.close();\n                }, 2000); */\n                setTimeout(() => {\n                    loading.close();\n                    var message;\n                    var message_2;\n                    if (r.type_of_customer !== \"payMonies\"){\n                        message = r.name + \"'s \" + r.type_of_customer + \" \" + r.overall + \".00\";\n                        this.$message({\n                            showClose: true,\n                            message: message,\n                            type: 'success',\n                            duration: 3600,\n                        });\n                    }else{\n                        message = r.name_1 + \"'s Current Account - £\" + r.overall+ \".00\"\n                        message_2 = r.name_2 + \"'s Current Account + £\" + r.overall + \".00\";\n                        this.$message({\n                            showClose: true,\n                            message: message,\n                            type: 'success',\n                            duration: 2000,\n                        });\n                        setTimeout(() => {\n                            this.$message({\n                                showClose: true,\n                                message: message_2,\n                                type: 'success',\n                                duration: 2000,\n                            });  \n                        }, 2200);\n                        \n                    }\n                    // 更新数据\n                    this.update();\n                }, 2600);\n                },function(res) {\n                    console.log('fail...', res);\n                },);\n        },\n        flash(){\n            if(this.buttontitle === 'Start')\n            {\n                try {\n                    this.maxRound = this.records[this.records.length-1].round + 10;\n                }\n                catch(err){\n                    console.log('null');\n                    this.maxRound = 10;\n                }\n                this.buttontitle = 'Processing';\n                this.inprocess = true;\n                this.buttontype = 'info';\n                this.titlesize = 17;\n                this.buttonsize = 4;\n                console.log(this.maxRound)\n            }\n        },\n        start(){\n            this.update_s();\n            if(this.buttontitle !== 'Phrase')\n            {\n                const loading1 = this.$loading({\n                text: 'Transaction in progress...',\n                spinner: 'el-icon-loading',\n                background: 'rgba(0, 0, 0, 0.8)',\n                });\n                setTimeout(() => {\n                    loading1.close();\n                }, 1800);\n                setTimeout(() => {\n                    this.process();\n                }, 2000);\n            }else{\n                this.$http.get(\"/api/process/phrase\").then(function(res) {\n                    console.log(res.status);\n                });\n                this.buttontitle = 'Start';\n                this.buttontype = 'warning';\n                const h = this.$createElement;\n                this.$notify({\n                    type: 'success',\n                    title: 'Bank phrase success',\n                    offset: 105,\n                    duration: 2600,\n                    message: h('i', { style: 'color: teal'}, 'Interest has been calculated and distributed to user accounts～')\n                });\n                setTimeout(() => {\n                    this.$router.push('/users')\n                }, 2600);\n            }\n                \n        },\n\n        /* choose(){\n            const loading = this.$loading({\n                lock: true,\n                text: 'Withdrawal from savings account is chosen～',\n                spinner: 'el-icon-loading',\n                background: 'rgba(0, 0, 0, 0.8)',\n            });\n            setTimeout(() => {\n                loading.close();\n                this.process();\n            }, 2600);\n        } */\n    }\n}\n</script>\n\n<style scoped>\ndiv{\n    margin:0;\n    padding:0;\n}\n.top {\n    background-color: #fff;\n    margin-top: -2.8rem;\n    margin-bottom: 3rem;\n    border-bottom-right-radius: 1.2rem;\n    \n}\n.top-title{\n    background-color: #fff;\n    height:6rem;\n    font-size: 2.5rem;\n    font-weight: bold;\n    text-align: start;\n    padding-left: 2rem;\n    padding-top: 1.3rem;\n    color: #2763d5;\n}\n.controll-button{\n    background-color: #fff;\n}\n.el-button{\n    font-weight: bold;\n    font-size: 1.27rem;\n    margin-top: 1.9rem;\n}\n.up{\n    text-align: start;\n    font-size: 1.1rem;\n    font-weight: bold;\n    color: #b0b0bb;\n    background-color: #fff;\n    margin-bottom: .2rem;\n    padding-left: 0rem;\n    margin-top: 1rem;\n}\n.down{\n    text-align: start;\n    margin-top: 0.5rem;\n    font-size: 2rem;\n    font-weight: bold;\n    color: #272532;\n    background-color: #fff;\n    padding-left: .6rem;\n}\n.container{\n    margin-top: 3rem;\n    margin-left: 4.5rem;\n    display: flex;\n    flex-direction: column;\n}\n\n\n.dialog{\n    margin: 1.2rem;\n}\n\n</style>"]}]}